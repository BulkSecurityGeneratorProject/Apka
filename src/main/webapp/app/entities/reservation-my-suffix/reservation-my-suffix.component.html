<div>
    <h2>
        <span jhiTranslate="jhipsterApp.reservation.home.title">Reservations</span>
        <button class="btn btn-primary float-right jh-create-entity create-reservation-my-suffix" [routerLink]="['/', { outlets: { popup: ['reservation-my-suffix-new'] } }]">
            <span class="fa fa-plus"></span>
            <span  jhiTranslate="jhipsterApp.reservation.home.createLabel">
            Create new Reservation
            </span>
        </button>
    </h2>
    <jhi-alert></jhi-alert>
    <div class="row">
    </div>
    <br/>
    <div class="table-responsive" *ngIf="reservations">
        <table class="table table-striped">
            <thead>
            <tr>
            <th class="centerText"><span jhiTranslate="global.field.id">ID</span></th>
            <th class="centerText"><span jhiTranslate="jhipsterApp.reservation.startDate">Start Date</span></th>
            <th class="centerText"><span jhiTranslate="jhipsterApp.reservation.finishDate">Finish Date</span></th>
                <th class="centerText">DNI POMIEDZY</th>
            <th class="centerText"><span jhiTranslate="jhipsterApp.reservation.client">Client</span></th>
            <th class="centerText"><span jhiTranslate="jhipsterApp.reservation.room">Room</span></th>
            <th></th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let reservation of reservations ;trackBy: trackId">
                <td class="centerText"><a [routerLink]="['../reservation-my-suffix', reservation.id ]">{{reservation.id}}</a></td>
                <td class="centerText">{{reservation.startDate | date:'longDate'}}</td>
                <td class="centerText">{{reservation.finishDate | date:'longDate'}}</td>
                <td class="centerText"><!--<span>DNI POMIĘDZY: {{ getDaysBetween(reservation.startDate,reservation.finishDate) | date:'d'}}</span>-->
                   <!-- liczby: {{ getDaysBetween(reservation.startDate,reservation.finishDate) | date:'longDate'}} -->
                    <span *ngFor="let daysBet of getDaysBetween(reservation.startDate,reservation.finishDate);">
                        {{ daysBet | date:'longDate' }}
                        <span *ngIf="reservation.roomId == chosenRoom && awsomeFunction()"> {{ addRooomToOccupiedTable(daysBet) }} </span>
                    </span>
                </td>
                <span *ngIf="reservation.roomId == chosenRoom" [hidden] ="true">{{ setWasCalled() }}</span>
                <td class="centerText">
                    <div *ngIf="reservation.clientId">
                        <a *ngIf="clients" [routerLink]="['../client-my-suffix', reservation.clientId  ]" >{{convertFromID(clients, reservation.clientId )}}</a>
                    </div>
                </td>
                <td class="centerText">
                    <div *ngIf="reservation.roomId">
                        <a *ngIf="rooms" [routerLink]="['../room-my-suffix', reservation.roomId  ]" >{{convertFromID(rooms, reservation.roomId )}}</a>
                    </div>
                </td>
                <td class="text-right">
                    <div class="btn-group flex-btn-group-container">
                        <button type="submit"
                                [routerLink]="['../reservation-my-suffix', reservation.id ]"
                                class="btn btn-info btn-sm">
                            <span class="fa fa-eye"></span>
                            <span class="d-none d-md-inline" jhiTranslate="entity.action.view">View</span>
                        </button>
                        <button type="submit"
                                [routerLink]="['/', { outlets: { popup: 'reservation-my-suffix/'+ reservation.id + '/edit'} }]"
                                replaceUrl="true"
                                queryParamsHandling="merge"
                                class="btn btn-primary btn-sm">
                            <span class="fa fa-pencil"></span>
                            <span class="d-none d-md-inline" jhiTranslate="entity.action.edit">Edit</span>
                        </button>
                        <button type="submit"
                                [routerLink]="['/', { outlets: { popup: 'reservation-my-suffix/'+ reservation.id + '/delete'} }]"
                                replaceUrl="true"
                                queryParamsHandling="merge"
                                class="btn btn-danger btn-sm">
                            <span class="fa fa-remove"></span>
                            <span class="d-none d-md-inline" jhiTranslate="entity.action.delete">Delete</span>
                        </button>
                    </div>
                </td>
            </tr>

            </tbody>
        </table>
<!--        <p *ngIf="rooms">POKOJE {{ rooms.length }}</p>
        <p (click)="test()"> KLIKNIJ {{ roomOccupiedArray[1][1] }} </p>
        TEST_ROOM: {{ howManyTest }}
        RES_TEST: {{ howManyRes }}
        <br/>
 -->
        <p *ngIf="rooms">Niedostępność pokoju: {{convertFromID(rooms, chosenRoom )}}</p>
        <span *ngFor="let roomOccupied of roomOccupiedArray[2]">{{ roomOccupied  | date:'longDate'}} ,</span>
        <div *ngIf="reservations && rooms">
            <button *ngFor="let roomNU of reservations" (click)="changeRoom(roomNU.roomId)">
                {{convertFromID(rooms, roomNU.roomId )}}
            </button>
        </div>
    </div>
</div>
